(this.webpackJsonpdiag=this.webpackJsonpdiag||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},30:function(e,t,n){var r={"./CONTENTLISTINGPAGE-PAGE1.json":[32,4],"./CONTENTLISTINGPAGE-PAGE2.json":[33,5],"./CONTENTLISTINGPAGE-PAGE3.json":[34,6]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(r)},a.id=30,e.exports=a},31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),s=(n(20),n(21),n(3)),i=n.n(s),u=n(5),l=n(4),d=function(e){return{type:"SET_QUERY",payload:e}},j=function(e){return{type:"SET_DATA",payload:e}},p=function(e){return{type:"APPEND",payload:e}},b=n(14),f=n(1),h=function(e){e.target.src="/slices/placeholder_for_missing_posters.png"};function O(e){var t=e.movie;return Object(f.jsxs)("div",{className:"text-left",children:[Object(f.jsx)("img",{alt:t.name,onError:h,src:"/slices/".concat(t["poster-image"]),className:"inline"}),Object(f.jsx)("p",{className:"text-xs truncate",children:t.name})]})}var x=function(e){var t=e.loadNext,n=Object(l.c)((function(e){return e.search})),r=n.data,a=n.query;return Object(f.jsxs)("div",{children:[a?Object(f.jsxs)("p",{className:"p-4 text-left text-white",children:["Search results for ",Object(f.jsxs)("b",{children:['"',a,'"']})]}):Object(f.jsx)(f.Fragment,{}),r&&r.items.length>0?Object(f.jsx)(b.a,{dataLength:r?r.items.length:0,next:Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(parseInt(r.page)+1);case 2:case"end":return e.stop()}}),e)}))),hasMore:!!r&&r.items.length<r.total,loader:Object(f.jsx)("h4",{}),children:r&&Object(f.jsx)("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-x-2 gap-y-3 text-white  p-2",id:"scrollableDiv",children:r.items.map((function(e,t){return Object(f.jsx)(O,{movie:e},"".concat(e.name,"-").concat(t))}))})}):Object(f.jsx)("p",{className:"p-4 text-left text-gray-400 text-xs",children:"Nothing found"})]})},v=n(2),g=n(15);function m(){return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function y(){return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}var w=function(){var e=Object(l.c)((function(e){return e.search})),t=e.data,n=(e.query,Object(l.b)()),a=Object(r.useState)({query:"",active:!1}),c=Object(g.a)(a,2),o=c[0],s=c[1];return Object(f.jsxs)("nav",{className:"sticky top-0 z-50 flex flex-wrap w-full justify-between items-center py-4 px-2 text-white bg-gradient-to-b from-black  via-black to-transparent ",children:[Object(f.jsxs)("div",{className:" flex flex-grow items-center space-x-2",children:[Object(f.jsx)("div",{className:"hover:bg-gray-200 hover:bg-opacity-50 hover:backdrop-filter hover:backdrop-blur-md  p-2 rounded-full",children:Object(f.jsx)(m,{})}),o.active?Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(d(o.query))},children:Object(f.jsx)("input",{className:"bg-gray-200 backdrop-filter backdrop-blur-md  backdrop-brightness-75 bg-opacity-20  text-sm py-2 px-4 rounded-full w-40 lg:w-100 text-white border-opacity-0 focus:outline-none",type:"text",value:o.query,onChange:function(e){return s((function(t){return{active:!0,query:e.target.value}}))}})}):Object(f.jsx)("span",{children:Object(f.jsx)("b",{children:(null===t||void 0===t?void 0:t.title)?t.title:"Home"})})]}),Object(f.jsx)("span",{className:"hover:bg-gray-200 hover:bg-opacity-50 hover:backdrop-filter hover:backdrop-blur-md  p-2 rounded-full",onClick:function(){s((function(e){return Object(v.a)(Object(v.a)({},e),{},{active:!e.active})})),n(d(null))},children:Object(f.jsx)(y,{})})]})},N=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(30)("./CONTENTLISTINGPAGE-PAGE".concat(t,".json"));case 3:return r=e.sent,e.abrupt("return",{error:!1,data:r.default});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:!0,data:{}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.search})),n=(t.data,t.query);Object(r.useEffect)((function(){var t=function(){var t=Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(1);case 2:n=t.sent,e(j(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[n]);var a=function(){var t=Object(u.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(n);case 2:r=t.sent,e(p(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"h-full ",children:[Object(f.jsx)(w,{}),Object(f.jsx)(x,{loadNext:a})]})};var k=function(){return Object(f.jsx)("div",{className:"App  bg-black",children:Object(f.jsx)(E,{})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},_=n(12),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[];switch(t.type){case"SET_QUERY":return Object(v.a)(Object(v.a)({},e),{},{query:t.payload});case"SET_DATA":return n=[],n=e.query?t.payload.data.page["content-items"].content.filter((function(t){return t.name.toLowerCase().includes(e.query.toLowerCase())})):t.payload.data.page["content-items"].content,Object(v.a)(Object(v.a)({},e),{},{data:{items:n,title:t.payload.data.page.title,total:t.payload.data.page["total-content-items"],page:t.payload.data.page["page-num-requested"]}});case"APPEND":return n=[],t.payload.error?Object(v.a)(Object(v.a)({},e),{},{data:Object(v.a)(Object(v.a)({},e.data),{},{total:e.data.items.length})}):(n=e.query?t.payload.data.page["content-items"].content.filter((function(t){return t.name.toLowerCase().includes(e.query.toLowerCase())})):t.payload.data.page["content-items"].content,Object(v.a)(Object(v.a)({},e),{},{data:Object(v.a)(Object(v.a)({},e.data),{},{page:t.payload.data.page["page-num-requested"],items:[].concat(Object(_.a)(e.data.items),Object(_.a)(n))})}));default:return e}},S=n(9),C=Object(S.a)({search:L}),A=Object(S.b)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(l.a,{store:A,children:Object(f.jsx)(k,{})})}),document.getElementById("root")),T()}},[[31,1,2]]]);
//# sourceMappingURL=main.3eab62c8.chunk.js.map